"use strict";$(function(){$(".btn.new").on("click",function(n){n.preventDefault(),swal({title:"Create a New Game",input:"text",showCancelButton:!0,showLoaderOnConfirm:!0,inputPlaceholder:"Your Name",confirmButtonText:"Create",confirmButtonClass:"btn btn-default",cancelButtonClass:"btn btn-default",buttonsStyling:!1,inputValidator:function(n){return new Promise(function(e,t){n?e():t("Please enter a name.")})},preConfirm:function(n){return new Promise(function(e,t){$.ajax({type:"POST",url:"/game/create",data:{name:n}}).done(function(t){Cookie.set("game_uuid",t.uuid,{expires:1}),Cookie.set("game_code",t.code,{expires:1}),e([n,t.code])}).fail(function(){t("Something went wrong... Try again.")})})}}).then(function(n){swal({type:"success",html:"Creating Room for "+n[0]+" | Code: "+n[1]})}).catch(swal.noop)}),$(".btn.join").on("click",function(n){n.preventDefault(),swal({title:"Join a Game",html:'<input id="swal-input_name" class="swal2-input" placeholder="Your Name"><input id="swal-input_code" class="swal2-input" placeholder="Game Code" maxlength="4">',confirmButtonText:"Join",showCancelButton:!0,showLoaderOnConfirm:!0,confirmButtonClass:"btn btn-default",cancelButtonClass:"btn btn-default",buttonsStyling:!1,onOpen:function(){$("#swal-input_name").focus()},preConfirm:function(){return new Promise(function(n,e){return""===$("#swal-input_name").val()?($("#swal-input_name").focus(),void e("Please enter your name.")):""===$("#swal-input_code").val()?($("#swal-input_code").focus(),void e("Please enter game code.")):void $.ajax({type:"POST",url:"/game/join",data:{name:$("#swal-input_name").val(),code:$("#swal-input_code").val().toLowerCase()}}).done(function(e,t){Cookie.set("game_code",e.code,{expires:1}),Cookie.set("game_uuid",e.uuid,{expires:1}),n([$("#swal-input_name").val(),$("#swal-input_code").val()])}).fail(function(n){e(400===n.status?"Game not found.":"Something went wrong... Try again.")})})}}).then(function(n){swal({type:"success",html:"Joining Room for "+n[0]+" in room: "+n[1]})}).catch(swal.noop)})});